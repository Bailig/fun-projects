(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{170:function(e,t,n){"use strict";n.r(t),n.d(t,"AppBar",(function(){return u})),n.d(t,"default",(function(){return b}));var r=n(0),a=n.n(r),o=n(19);const l=56,c=o.c.header`
  height: ${l}px;
`,u=e=>{const{activeTool:t,backgroundColor:n,brushColor:r,brushSize:o,downloadUrl:l,onCacheClear:u,onCanvasClear:s,onToolSelect:i=(()=>{}),onBackgroundColorChange:h=(()=>{}),onBrushColorChange:b=(()=>{}),onBrushSizeChange:d=(()=>{})}=e;return a.a.createElement(c,{style:{display:"flex"}},a.a.createElement("div",null,t),a.a.createElement("button",{type:"button",onClick:()=>i("brush")},"brush"),a.a.createElement("input",{value:r,autoComplete:"off",onChange:e=>b(e.target.value)}),a.a.createElement("div",null,"brush size"),a.a.createElement("div",null,o),a.a.createElement("input",{type:"range",min:"1",max:"50",defaultValue:"10",onMouseUp:e=>d(parseInt(e.currentTarget.value,10))}),a.a.createElement("input",{value:n,autoComplete:"off",onChange:e=>h(e.target.value)}),a.a.createElement("button",{type:"button",title:"Eraser",onClick:()=>i("eraser")},"eraser"),a.a.createElement("button",{type:"button",title:"Clear",onClick:s},"clear"),a.a.createElement("button",{type:"button",title:"Clear cache",onClick:u},"clear cache"),a.a.createElement("a",{title:"Save image file",href:l,download:"paint.jpg"},"save image file"))},s=o.c.h1`
  @media screen and (min-width: 800px) {
    display: none;
  }
`,i=o.c.canvas`
  cursor: crosshair;
`,h=()=>localStorage.removeItem("canvasStrokes"),b=()=>{const e=Object(r.useRef)(null),t=Object(r.useRef)(),n=Object(r.useRef)(!1),o=Object(r.useRef)([]),[c,b]=Object(r.useState)("#ffffff"),[d,C]=Object(r.useState)("#000000"),[g,p]=Object(r.useState)(10),[f,m]=Object(r.useState)("brush"),[v,y]=Object(r.useState)();Object(r.useEffect)(()=>{const n=e.current;t.current=n.getContext("2d"),o.current=JSON.parse(localStorage.getItem("canvasStrokes")||"[]")},[]);const S=Object(r.useCallback)(()=>{const n=e.current,r=t.current;n.width=window.innerWidth,n.height=window.innerHeight-l,r.fillStyle=c,r.fillRect(0,0,n.width,n.height)},[c]),k=Object(r.useCallback)(()=>{const e=t.current,n=o.current;n.forEach((t,r)=>{0!==r&&(e.beginPath(),e.moveTo(n[r-1].x,n[r-1].y),e.lineWidth=t.size,e.lineCap="round","eraser"===t.type?e.strokeStyle=c:e.strokeStyle=t.color,e.lineTo(t.x,t.y),e.stroke())})},[c]),E=Object(r.useCallback)(()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.toDataURL("image/jpeg",1)},[]);Object(r.useEffect)(()=>{S(),k(),y(E())},[E,S,k]);const w=t=>{const n=e.current.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}};return a.a.createElement(a.a.Fragment,null,a.a.createElement(u,{activeTool:f,backgroundColor:c,brushColor:d,brushSize:g,downloadUrl:v,onBackgroundColorChange:b,onBrushColorChange:C,onToolSelect:m,onBrushSizeChange:p,onCanvasClear:()=>{o.current=[],h(),S(),y(E())},onCacheClear:h}),a.a.createElement(i,{ref:e,onMouseDown:e=>{n.current=!0;const r=t.current,a=w(e);r.moveTo(a.x,a.y),r.beginPath(),r.lineCap="round","eraser"===f?(r.strokeStyle=c,r.lineWidth=50):(r.strokeStyle=d,r.lineWidth=g)},onMouseMove:e=>{if(!n.current)return;const r=t.current,a=w(e);r.lineTo(a.x,a.y),r.stroke();const l="brush"===f?{x:a.x,y:a.y,size:g,color:d,type:f}:{x:a.x,y:a.y,size:50,type:f};o.current.push(l)},onMouseUp:()=>{var e;n.current=!1,e=o.current,localStorage.setItem("canvasStrokes",JSON.stringify(e)),y(E())}}),a.a.createElement(s,null,"Please use application on larger screen"))}}}]);