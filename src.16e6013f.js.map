{"version":3,"sources":["../../music-player/src/progress-bar.tsx","../../music-player/src/utils.ts","../../music-player/src/music-player-container.tsx","../../music-player/src/index.tsx"],"names":[],"mappings":"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","file":"src.16e6013f.js","sourceRoot":"../public","sourcesContent":["import React, { FC } from \"react\";\n\ninterface ProgressBarProps {\n  value: number;\n  onClick?: (value: number) => void;\n}\n\nexport const ProgressBar: FC<ProgressBarProps> = (props) => {\n  const { value, onClick } = props;\n\n  const handleClick = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    if (!onClick) return;\n    const width = e.currentTarget.offsetWidth;\n    const clickX = e.nativeEvent.offsetX;\n    onClick(clickX / width);\n  };\n\n  return (\n    <div\n      style={{\n        height: 20,\n        cursor: \"pointer\",\n        border: \"1px solid black\",\n      }}\n      onClick={handleClick}\n      role=\"progressbar\"\n    >\n      <div\n        style={{\n          width: `${value * 100}%`,\n          height: \"100%\",\n          backgroundColor: \"black\",\n        }}\n      />\n    </div>\n  );\n};\n","const zeroPad = (number: number) => {\n  const numberString = `${Math.floor(number)}`;\n  return `0${numberString}`.slice(-2);\n};\n\nexport const secondsToTime = (totalSeconds: number) => {\n  const displaySeconds = totalSeconds % 60;\n  const totalMinutes = (totalSeconds - displaySeconds) / 60;\n  const displayMinutes = totalMinutes % 60;\n  return `${zeroPad(displayMinutes)}:${zeroPad(displaySeconds)}`;\n};\n","import React, { FC, useState, useRef, useEffect, SyntheticEvent } from \"react\";\nimport cantYouSee from \"./assets/cant-you-see.mp3\";\nimport holidayBlues from \"./assets/holiday-blues.mp3\";\nimport strawberry from \"./assets/strawberry.mp3\";\nimport { ProgressBar } from \"./progress-bar\";\nimport { secondsToTime } from \"./utils\";\n\nconst MUSICS = [\n  {\n    src: cantYouSee,\n    name: \"Can't you see\",\n    author: \"Dyalla\",\n    credit: \"Can't you see by Dyalla\",\n    url: \"https://soundcloud.com/dyallas/cant-you-see\",\n  },\n  {\n    src: holidayBlues,\n    name: \"Holiday blues\",\n    author: \"Joakim Karud\",\n    credit: \"Holiday blues by Joakim Karud\",\n    url: \"https://soundcloud.com/joakimkarud/holiday-blues\",\n  },\n  {\n    src: strawberry,\n    name: \"Strawberry\",\n    author: \"Jeff Kaale\",\n    credit: \"Strawberry by Jeff Kaale\",\n    url: \"https://soundcloud.com/jeff-kaale/strawberry\",\n  },\n];\n\nexport const MusicPlayerContainer: FC = () => {\n  const [musicIndex, setMusicIndex] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [progressValue, setProgressValue] = useState(0);\n  const [duration, setDuration] = useState<number>(0);\n  const [currentTime, setCurrentTime] = useState<number>(0);\n  const musicRef = useRef<HTMLAudioElement>(null);\n\n  const { src, name, author, url } = MUSICS[musicIndex];\n  const totalMusicCount = MUSICS.length;\n\n  useEffect(() => {\n    setProgressValue(0);\n    if (isPlaying) musicRef.current?.play();\n  }, [musicIndex]);\n\n  const handlePrevious = () => {\n    if (musicIndex === 0) return;\n    setMusicIndex(musicIndex - 1);\n  };\n\n  const handleNext = () => {\n    const lastIndex = totalMusicCount - 1;\n    if (musicIndex === lastIndex) return;\n    setMusicIndex(musicIndex + 1);\n  };\n\n  const handlePause = () => {\n    musicRef.current?.pause();\n    setIsPlaying(false);\n  };\n\n  const handlePlay = () => {\n    musicRef.current?.play();\n    setIsPlaying(true);\n  };\n\n  const handleTimeUpdate = (e: SyntheticEvent<HTMLAudioElement, Event>) => {\n    if (!isPlaying) return;\n    const target = e.currentTarget;\n    setProgressValue(target.currentTime / target.duration);\n    setCurrentTime(target.currentTime);\n  };\n\n  const handleProgressBarClick = (value: number) => {\n    setProgressValue(value);\n    const musicEl = musicRef.current!;\n    musicEl.currentTime = value * musicEl.duration;\n    setCurrentTime(musicEl.currentTime);\n  };\n\n  const handleDurationChange = (e: SyntheticEvent<HTMLAudioElement, Event>) => {\n    setDuration(e.currentTarget.duration);\n  };\n  return (\n    <>\n      <div>{name}</div>\n      <div>by {author}</div>\n      <a href={url} target=\"_blank\" rel=\"noreferrer\">\n        link to original music\n      </a>\n      <ProgressBar value={progressValue} onClick={handleProgressBarClick} />\n      <div>\n        <span>{secondsToTime(currentTime)}</span>/\n        <span>{secondsToTime(duration)}</span>\n      </div>\n      <button type=\"button\" onClick={handlePrevious}>\n        previous\n      </button>\n      <button\n        type=\"button\"\n        onClick={() => (isPlaying ? handlePause() : handlePlay())}\n      >\n        {isPlaying ? \"pause\" : \"play\"}\n      </button>\n      <button type=\"button\" onClick={handleNext}>\n        next\n      </button>\n      <audio\n        src={src}\n        ref={musicRef}\n        onEnded={handleNext}\n        onTimeUpdate={handleTimeUpdate}\n        onDurationChange={handleDurationChange}\n      />\n      <div>\n        {musicIndex + 1}/{totalMusicCount}\n      </div>\n    </>\n  );\n};\n","export { MusicPlayerContainer as default } from \"./music-player-container\";\n"]}